<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebCraft Developers</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    <table class="table" id = "table">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">First</th>
                <th scope="col">Last</th>
                <th scope="col">Handle</th>
            </tr>
        </thead>
        <tbody id = "container"></tbody>
    </table>

    <h1>Create Teams</h1>
    <form method = "post" onsubmit = "createUser">
        <input type="number" name="groupNo" id="groupNo" placeholder = "Group No" /> <br/>
        <input type="text" name="groupName" id="groupName" placeholder = "Group Name" /> <br/>
        <input type = "text" name = "members[]" id = "members1" placeholder = "Member 1 Name" /> <br/>
        <input type = "text" name = "members[]" id = "members2" placeholder = "Member 2 Name" /> <br/>
        <input type = "text" name = "members[]" id = "members3" placeholder = "Member 3 Name" /> <br/>
        <input type = "text" name = "projectName" id = "projectName" placeholder = "Project Name" /> <br/>
    </form>

    <script>
        const container = document.getElementById("container");

        fetch("http://localhost:3000/customAPI/v1/user")
        .then((data) => data.json())
        .then((data) => {
            data.map(user => {
                const row = document.createElement("tr");
                const col1 = document.createElement("td");
                col1.innerHTML = user.groupNo
                const col2 = document.createElement("td");
                col2.innerHTML = user.groupName
                const col3 = document.createElement("td");
                let names = user.members[0];
                user.members.map((name, idx) => {
                    if(idx == 0) return;
                    names = names + ", " + name;
                })
                col3.innerHTML = names;
                const col4 = document.createElement("td");
                col4.innerHTML = user.projectName;
                row.appendChild(col1);
                row.appendChild(col2);
                row.appendChild(col3);
                row.appendChild(col4);

                container.appendChild(row);
            })
        });

        function createUser() {

        }
    </script>
</body>
</html>